{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Bootstrap (create venv + install deps + pre-commit)",
      "type": "shell",
      "command": "bash",
      "args": [
        "scripts/bootstrap.sh"
      ],
      "windows": {
        "command": "powershell",
        "args": [
          "-ExecutionPolicy",
          "Bypass",
          "-File",
          "scripts\\bootstrap.ps1"
        ]
      },
      "problemMatcher": []
    },
    {
      "label": "Check (ruff + tests)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-lc",
        "source .venv/bin/activate && ruff check . && ruff format --check . && pytest -q"
      ],
      "windows": {
        "command": "powershell",
        "args": [
          "-NoProfile",
          "-ExecutionPolicy",
          "Bypass",
          "-Command",
          ".\\.venv\\Scripts\\python.exe -m ruff check .; .\\.venv\\Scripts\\python.exe -m ruff format --check .; .\\.venv\\Scripts\\python.exe -m pytest -q"
        ]
      },
      "problemMatcher": []
    },
    {
      "label": "Run app (Streamlit)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-lc",
        "source .venv/bin/activate && streamlit run src/client_portal/app/streamlit_app.py"
      ],
      "windows": {
        "command": "powershell",
        "args": [
          "-NoProfile",
          "-ExecutionPolicy",
          "Bypass",
          "-Command",
          ".\\.venv\\Scripts\\python.exe -m streamlit run src/client_portal/app/streamlit_app.py"
        ]
      },
      "problemMatcher": []
    }
  ]
}
